<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√°ster en Desarrollo de Paquetes Salesforce | Componentes Globales</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #334155;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        .code-block {
            position: relative;
        }
        
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .code-block:hover .copy-btn {
            opacity: 1;
        }

        h1, h2, h3 {
            color: #0f172a;
        }

        .prose a {
            color: #072146; /* Azul Oscuro Corporativo */
            text-decoration: none;
        }
        .prose a:hover {
            text-decoration: underline;
        }
        
        /* Utility for the custom logo */
        .logo-svg {
            width: 40px;
            height: 40px;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Mobile Header -->
    <div class="lg:hidden bg-white border-b border-gray-200 p-4 sticky top-0 z-50 flex justify-between items-center">
        <div class="font-bold text-xl text-[#072146] flex items-center">
             <!-- Custom Logo SVG Mini -->
             <svg class="w-8 h-8 mr-2" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                <!-- Outer Hexagon Shape -->
                <path d="M50 10 L85 30 L85 70 L50 90 L15 70 L15 30 Z" stroke="#072146" stroke-width="6" fill="none"/>
                <!-- Inner Cube -->
                <path d="M50 25 L72 38 L72 62 L50 75 L28 62 L28 38 Z" fill="#1464A5"/>
                <!-- Cube Faces shading -->
                <path d="M50 50 L72 38 L50 25 L28 38 Z" fill="#2DCCCD"/> <!-- Top Face -->
                <path d="M50 50 L50 75 L28 62 L28 38 Z" fill="#0B4D85" fill-opacity="0.4"/> <!-- Left Face -->
                <!-- Connecting Dot -->
                <circle cx="50" cy="50" r="6" fill="white"/>
            </svg>
            Componentes Globales
        </div>
        <button id="menuBtn" class="text-gray-600 hover:text-[#1464A5] focus:outline-none">
            <i class="fa-solid fa-bars fa-xl"></i>
        </button>
    </div>

    <div class="max-w-8xl mx-auto flex flex-col lg:flex-row min-h-screen">
        
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="hidden lg:block w-full lg:w-72 bg-white border-r border-gray-200 fixed lg:sticky top-0 h-screen overflow-y-auto z-40 transition-transform transform lg:transform-none -translate-x-full lg:translate-x-0">
            <div class="p-6">
                <div class="flex items-center space-x-3 mb-8 text-[#072146] font-bold text-xl">
                    <!-- Custom Logo SVG -->
                    <svg class="w-10 h-10 flex-shrink-0" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Outer Hexagon Shape -->
                        <path d="M50 5 L90 28 L90 72 L50 95 L10 72 L10 28 Z" stroke="#072146" stroke-width="4" fill="#F8FAFC"/>
                        <!-- Tech Lines -->
                        <path d="M10 28 L30 40" stroke="#072146" stroke-width="2"/>
                        <path d="M90 72 L70 60" stroke="#072146" stroke-width="2"/>
                        <path d="M50 95 L50 75" stroke="#072146" stroke-width="2"/>
                        <!-- Inner Cube (Package) -->
                        <path d="M50 25 L75 40 L75 65 L50 80 L25 65 L25 40 Z" fill="#1464A5" stroke="#072146" stroke-width="2"/>
                        <!-- Top Lid (Teal) -->
                        <path d="M50 50 L75 40 L50 25 L25 40 Z" fill="#2DCCCD" stroke="#072146" stroke-width="1"/>
                        <!-- Center Core -->
                        <circle cx="50" cy="50" r="5" fill="white"/>
                    </svg>
                    <span class="leading-tight">Componentes<br>Globales</span>
                </div>
                <nav class="space-y-1">
                    <a href="#intro" class="block px-3 py-2 text-sm font-medium rounded-md bg-blue-50 text-[#1464A5]">Introducci√≥n</a>
                    <div class="pt-4 pb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">M√≥dulos</div>
                    <a href="#mod1" class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900">
                        <span class="truncate">1. Configuraci√≥n y Entorno</span>
                    </a>
                    <a href="#mod2" class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900">
                        <span class="truncate">2. Apex y LWC</span>
                    </a>
                    <!-- Nuevo sub-enlace para facilitar navegaci√≥n -->
                    <div class="pl-6 space-y-1">
                         <a href="#mod2-instanciacion" class="block px-3 py-1 text-xs font-medium text-gray-500 hover:text-[#1464A5]">
                            ‚Ü≥ Instanciaci√≥n UI
                        </a>
                        <a href="#mod2-datos" class="block px-3 py-1 text-xs font-medium text-gray-500 hover:text-[#1464A5]">
                            ‚Ü≥ Estrategia de Datos
                        </a>
                    </div>

                    <a href="#mod3" class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900">
                        <span class="truncate">3. Arquitectura</span>
                    </a>
                    <a href="#mod4" class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900">
                        <span class="truncate">4. Testing y QA</span>
                    </a>
                    <a href="#mod5" class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900">
                        <span class="truncate">5. Troubleshooting</span>
                    </a>
                    <a href="#mod6" class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900">
                        <span class="truncate">6. Documentaci√≥n</span>
                    </a>
                    <div class="pt-4 pb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">Extras</div>
                    <a href="#paquetizables" class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900">
                        <span class="truncate">Paquetizables vs No</span>
                    </a>
                    <div class="pt-4 pb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">Mantenimiento</div>
                    <a href="#setup-web" class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900">
                        <span class="truncate">Setup de esta Gu√≠a</span>
                    </a>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 lg:p-12 max-w-5xl mx-auto w-full">
            
            <!-- Hero Section -->
            <section id="intro" class="mb-16">
                <div class="bg-gradient-to-r from-[#072146] to-[#1464A5] rounded-2xl p-8 text-white shadow-lg relative overflow-hidden">
                    <!-- Decoraci√≥n de fondo abstracta -->
                    <div class="absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 rounded-full bg-white opacity-5"></div>
                    <div class="absolute bottom-0 right-10 w-32 h-32 rounded-full bg-white opacity-5"></div>

                    <h1 class="text-3xl lg:text-5xl font-extrabold mb-4 relative z-10">üöÄ Formaci√≥n en Desarrollo de Paquetes Gestionados (2GP)</h1>
                    <p class="text-lg text-blue-100 mb-6 relative z-10">Gu√≠a de referencia para arquitectos y desarrolladores de Componentes Globales (paquetes manejados de Salesforce).</p>
                    <div class="flex items-center space-x-4 relative z-10">
                        <div class="flex items-center bg-white/10 rounded-full px-3 py-1 backdrop-blur-sm">
                             <svg class="w-6 h-6 mr-2" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <!-- Monochrome/White version for dark background -->
                                <path d="M50 10 L85 30 L85 70 L50 90 L15 70 L15 30 Z" stroke="white" stroke-width="4" fill="none"/>
                                <path d="M50 25 L72 38 L72 62 L50 75 L28 62 L28 38 Z" fill="white" fill-opacity="0.3"/>
                                <path d="M50 50 L72 38 L50 25 L28 38 Z" fill="white" fill-opacity="0.6"/>
                            </svg>
                            <span class="font-medium text-sm">Equipo Componentes Globales</span>
                        </div>
                        <span class="bg-[#2DCCCD] text-[#072146] font-bold px-3 py-1 rounded-full text-sm">v1.0.0</span>
                    </div>
                </div>
            </section>

            <!-- Module 1 -->
            <section id="mod1" class="mb-16 scroll-mt-20">
                <div class="border-b border-gray-200 pb-4 mb-6">
                    <h2 class="text-3xl font-bold text-[#072146] flex items-center">
                        <span class="bg-blue-50 text-[#1464A5] rounded-lg p-2 mr-3 text-xl"><i class="fa-solid fa-book"></i></span>
                        M√≥dulo 1: Configuraci√≥n y Entorno
                    </h2>
                </div>
                
                <p class="text-gray-600 text-lg mb-6">El √©xito de un paquete empieza antes de escribir una sola l√≠nea de c√≥digo. Empieza en la arquitectura del proyecto.</p>

                <div class="mb-8">
                    <h3 class="text-xl font-bold mb-3 text-gray-800">1.1. El Namespace (Espacio de Nombres)</h3>
                    
                    <div class="prose text-gray-600 mb-6 space-y-4">
                        <p>El Namespace (espacio de nombres) es el identificador √∫nico y exclusivo de tu organizaci√≥n o paquete en el ecosistema global de Salesforce. Act√∫a como un prefijo que se a√±ade autom√°ticamente a los nombres de API de todos tus componentes (Objetos, Campos, Clases Apex, Componentes LWC, etc.).</p>
                        
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm">
                                <h4 class="font-bold text-[#072146] mb-2 text-sm uppercase tracking-wide">Sin Namespace (Unmanaged)</h4>
                                <p class="text-sm font-mono text-gray-500 mb-1">Objeto: <span class="text-red-500">Factura__c</span></p>
                                <p class="text-xs text-gray-400">Riesgo: Si el cliente instala otro paquete con "Factura__c", la instalaci√≥n falla por conflicto de nombres.</p>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg border border-blue-100 shadow-sm">
                                <h4 class="font-bold text-[#1464A5] mb-2 text-sm uppercase tracking-wide">Con Namespace (Managed)</h4>
                                <p class="text-sm font-mono text-gray-500 mb-1">Objeto: <span class="text-green-600 font-bold">global_comp__</span>Factura__c</p>
                                <p class="text-xs text-[#1464A5]">Soluci√≥n: Tu objeto es √∫nico. Puede coexistir con <code>otra_app__Factura__c</code> sin problemas.</p>
                            </div>
                        </div>

                        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4">
                            <h4 class="font-bold text-yellow-800 text-sm mb-1"><i class="fa-solid fa-lightbulb mr-2"></i>Consideraciones de Arquitectura</h4>
                            <ul class="list-disc list-inside text-sm text-yellow-900 space-y-1">
                                <li><strong>Registro:</strong> Debes registrar el namespace en una <em>Developer Edition</em> y vincularla a tu <em>Dev Hub</em>.</li>
                                <li><strong>Inmutabilidad:</strong> Una vez que lanzas una versi√≥n Managed-Released, <strong>el namespace no se puede cambiar</strong>.</li>
                                <li><strong>Longitud:</strong> Se recomienda que sea corto (3-5 caracteres) para no hacer el c√≥digo tedioso de escribir, pero descriptivo.</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="bg-[#072146] rounded-lg overflow-hidden shadow-md code-block">
                        <div class="bg-[#04152d] px-4 py-2 flex justify-between items-center text-xs text-gray-400">
                            <span>sfdx-project.json</span>
                            <button class="copy-btn bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs" onclick="copyToClipboard(this)">Copiar</button>
                        </div>
                        <pre class="p-4 overflow-x-auto text-sm text-[#2DCCCD]"><code>{
  "packageDirectories": [
    {
      "path": "force-app",
      "default": true,
      "package": "NombreDeTuPaquete",
      "versionName": "ver 1.0",
      "versionNumber": "1.0.0.NEXT"
    }
  ],
  "namespace": "global_comp",  // <--- Aqu√≠ se define la magia
  "sfdcLoginUrl": "https://login.salesforce.com",
  "sourceApiVersion": "60.0"
}</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h3 class="text-xl font-bold mb-3 text-gray-800">1.2. Automatizaci√≥n del Entorno</h3>
                    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4">
                        <p class="text-yellow-800 font-medium">‚ö†Ô∏è Nunca crees una org a mano. Nunca.</p>
                    </div>
                    <p class="text-gray-600 mb-4">Usamos scripts para garantizar que todos los desarrolladores tienen el mismo entorno.</p>
                    
                    <div class="bg-[#072146] rounded-lg overflow-hidden shadow-md code-block">
                        <div class="bg-[#04152d] px-4 py-2 flex justify-between items-center text-xs text-gray-400">
                            <span>init_scratch.sh</span>
                            <button class="copy-btn bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs" onclick="copyToClipboard(this)">Copiar</button>
                        </div>
                        <pre class="p-4 overflow-x-auto text-sm text-blue-200"><code>#!/bin/bash
# Uso: ./init_scratch.sh nombre_org

ORG_ALIAS=$1

echo "üèóÔ∏è  Creando Scratch Org con Namespace..."
sf org create scratch -f config/project-scratch-def.json -a $ORG_ALIAS -y 30 -d

echo "üì¶  Instalando paquetes dependientes (si los hay)..."
# sf package install --package "ID_DEL_PAQUETE" -w 10 -o $ORG_ALIAS

echo "üöÄ  Desplegando c√≥digo fuente..."
sf project deploy start -o $ORG_ALIAS

echo "assigning permissions..."
sf org assign permset -n TuPermSetDeAdmin -o $ORG_ALIAS

echo "üíæ  Cargando Datos de Prueba (Demo Data)..."
sf data import tree --plan data/sample-data-plan.json -o $ORG_ALIAS

echo "‚úÖ  Org lista. Abriendo..."
sf org open -o $ORG_ALIAS</code></pre>
                    </div>
                </div>

                <!-- Conclusi√≥n del M√≥dulo 1 -->
                <div class="mt-8 bg-green-50 border-l-4 border-green-500 p-6 rounded-r-lg shadow-sm">
                    <h4 class="text-green-800 font-bold text-lg mb-2 flex items-center">
                        <i class="fa-solid fa-check-double mr-2"></i>Conclusi√≥n Clave
                    </h4>
                    <p class="text-green-900 mb-3">
                        Al generar una Scratch Org con el <strong>namespace del paquete</strong> definido, nos aseguramos de que todos los objetos y elementos que generamos vayan acompa√±ados autom√°ticamente de dicho namespace desde el momento de su creaci√≥n.
                    </p>
                    <div class="bg-white bg-opacity-60 p-3 rounded border border-green-100">
                        <p class="text-green-900 text-sm">
                            <strong><i class="fa-solid fa-lightbulb text-yellow-600 mr-1"></i> Ejemplo pr√°ctico:</strong> 
                            Si creas un <em>Flow</em> o automatizaci√≥n dentro de esta scratch, las referencias a los campos se guardar√°n incorporando ya su namespace (ej: <code>global_comp__MiCampo__c</code>). Esto es vital porque evita tener que "buscar y reemplazar" prefijos manualmente en los archivos XML antes de subir el paquete, eliminando una fuente enorme de errores humanos.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Module 2 -->
            <section id="mod2" class="mb-16 scroll-mt-20">
                <div class="border-b border-gray-200 pb-4 mb-6">
                    <h2 class="text-3xl font-bold text-[#072146] flex items-center">
                        <span class="bg-blue-50 text-[#1464A5] rounded-lg p-2 mr-3 text-xl"><i class="fa-solid fa-code"></i></span>
                        M√≥dulo 2: Desarrollo Apex y LWC
                    </h2>
                </div>

                <!-- 2.1 ACTUALIZADO: Gesti√≥n de Namespaces -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold mb-3 text-gray-800">2.1. Gesti√≥n del Namespace en Apex (Gu√≠a Definitiva)</h3>
                    <p class="text-gray-600 mb-6">Para evitar errores de compilaci√≥n y ejecuci√≥n, dividimos el manejo del namespace en tres casos clave. La regla depende de si referencias cosas ajenas o propias.</p>
                    
                    <!-- CASO 1 -->
                    <div class="bg-blue-50 rounded-lg p-5 border border-blue-100 mb-6">
                        <h4 class="font-bold text-[#1464A5] mb-2 flex items-center">
                            <span class="bg-[#1464A5] text-white text-xs px-2 py-1 rounded mr-2">CASO 1</span>
                            Referencias a OTROS Paquetes (Dependencias)
                        </h4>
                        <p class="text-sm text-gray-700 mb-3">Si tu aplicaci√≥n depende de un paquete gestionado instalado (ej: CPQ, FinancialForce), el uso del namespace es <strong>Obligatorio y Expl√≠cito</strong>.</p>
                        
                        <div class="bg-[#072146] rounded-lg overflow-hidden shadow-sm code-block">
                            <div class="bg-[#04152d] px-4 py-2 flex justify-between items-center text-xs text-gray-400">
                                <span>Apex (Referencia Externa)</span>
                                <button class="copy-btn bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs" onclick="copyToClipboard(this)">Copiar</button>
                            </div>
                            <pre class="p-4 overflow-x-auto text-sm text-blue-200"><code>// Est√°s en TU paquete, pero necesitas datos del paquete 'sbqq' (CPQ)
// Aqu√≠ S√ç pones el namespace 'sbqq__'
List&lt;sbqq__Quote__c&gt; quotes = [SELECT Id FROM sbqq__Quote__c];</code></pre>
                        </div>
                    </div>

                    <!-- CASO 2 -->
                    <div class="bg-gray-50 rounded-lg p-5 border border-gray-200 mb-6">
                        <h4 class="font-bold text-gray-800 mb-2 flex items-center">
                            <span class="bg-gray-700 text-white text-xs px-2 py-1 rounded mr-2">CASO 2</span>
                            Referencias a TU PROPIO Paquete (Apex Din√°mico)
                        </h4>
                        <p class="text-sm text-gray-700 mb-3">En Dynamic SOQL/SOSL (cadenas de texto), Salesforce no "autocompleta" el namespace. Debes obtenerlo din√°micamente, <strong>NUNCA hardcodearlo</strong>.</p>
                        
                        <div class="grid md:grid-cols-2 gap-4">
                            <!-- Forma Incorrecta -->
                            <div>
                                <div class="text-xs font-bold text-red-600 mb-1 uppercase"><i class="fa-solid fa-times-circle mr-1"></i> Incorrecto (Hardcoded)</div>
                                <div class="bg-[#2d1a1a] rounded-lg overflow-hidden shadow-sm code-block h-full">
                                    <pre class="p-4 overflow-x-auto text-sm text-red-200"><code>// MAL: Si cambias de entorno, falla.
Database.query('SELECT Id FROM acme__MiObjeto__c');</code></pre>
                                </div>
                            </div>
                            <!-- Forma Correcta -->
                            <div>
                                <div class="text-xs font-bold text-green-600 mb-1 uppercase"><i class="fa-solid fa-check-circle mr-1"></i> Correcto (Din√°mico)</div>
                                <div class="bg-[#0f291e] rounded-lg overflow-hidden shadow-sm code-block h-full">
                                    <pre class="p-4 overflow-x-auto text-sm text-green-200"><code>// BIEN: Usa la clase Schema
String nombreReal = String.valueOf(MiObjeto__c.SObjectType); 
// Retorna "MiObjeto__c" o "acme__MiObjeto__c" seg√∫n el entorno
String query = 'SELECT Id FROM ' + nombreReal;
Database.query(query);</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- CASO 3 & Resumen -->
                    <div class="mb-6">
                        <h4 class="font-bold text-[#072146] mb-4">Resumen de Estrategia</h4>
                        <div class="overflow-hidden border border-gray-200 rounded-lg shadow-sm">
                            <table class="min-w-full bg-white text-sm">
                                <thead class="bg-gray-50 text-[#072146]">
                                    <tr>
                                        <th class="py-3 px-4 text-left font-bold border-b">Situaci√≥n</th>
                                        <th class="py-3 px-4 text-left font-bold border-b">¬øQu√© hago con el Namespace?</th>
                                        <th class="py-3 px-4 text-left font-bold border-b hidden md:table-cell">Ejemplo</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-100">
                                    <tr>
                                        <td class="py-3 px-4 text-gray-600">Referencia a MI c√≥digo (Apex Est√°tico)</td>
                                        <td class="py-3 px-4 font-semibold text-gray-400">Ignorar (Autom√°tico)</td>
                                        <td class="py-3 px-4 font-mono text-xs text-gray-500 hidden md:table-cell">new MiObjeto__c();</td>
                                    </tr>
                                    <tr>
                                        <td class="py-3 px-4 text-gray-600">Referencia a OTRO paquete</td>
                                        <td class="py-3 px-4 font-semibold text-blue-600">Escribir expl√≠cito</td>
                                        <td class="py-3 px-4 font-mono text-xs text-blue-600 hidden md:table-cell">new sbqq__Quote__c();</td>
                                    </tr>
                                    <tr>
                                        <td class="py-3 px-4 text-gray-600">Referencia a MI c√≥digo (Din√°mico)</td>
                                        <td class="py-3 px-4 font-semibold text-green-600">Obtener din√°micamente</td>
                                        <td class="py-3 px-4 font-mono text-xs text-green-600 hidden md:table-cell">String.valueOf(T.SObjectType)</td>
                                    </tr>
                                    <tr>
                                        <td class="py-3 px-4 text-gray-600">Integraciones / API Externa</td>
                                        <td class="py-3 px-4 font-semibold text-purple-600">Escribir expl√≠cito</td>
                                        <td class="py-3 px-4 font-mono text-xs text-purple-600 hidden md:table-cell">/sobjects/acme__MiObjeto__c</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Conclusi√≥n 2.1 -->
                    <div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded-r-lg">
                        <p class="text-indigo-900 italic font-medium">
                            "Solo escribimos el namespace manualmente cuando llamamos a la puerta de otros (otros paquetes o desde fuera). Para las llamadas internas din√°micas, dejamos que el c√≥digo averig√ºe su propio nombre."
                        </p>
                    </div>
                </div>

                <!-- NUEVO 2.2: Instanciaci√≥n de Componentes -->
                <div id="mod2-instanciacion" class="mb-12 border-t border-gray-100 pt-8">
                    <h3 class="text-xl font-bold mb-4 text-gray-800">2.2. Instanciaci√≥n de Componentes (Aura y LWC)</h3>
                    <p class="text-gray-600 mb-6">Reglas de oro para referenciar componentes visuales. La clave est√° en saber si el componente "vive" contigo (Tu Paquete) o es un vecino (Paquete Externo).</p>

                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        
                        <!-- Columna 1: Markup HTML (Aura y LWC) -->
                        <div class="space-y-6">
                            <!-- Aura HTML -->
                            <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-5">
                                <h4 class="font-bold text-[#072146] mb-3 flex items-center">
                                    <i class="fa-brands fa-salesforce mr-2 text-blue-500"></i> Aura Markup (.cmp)
                                </h4>
                                <div class="space-y-4">
                                    <div class="bg-green-50 p-3 rounded border border-green-100">
                                        <p class="text-xs font-bold text-green-800 uppercase mb-1">Tu Paquete (Interno)</p>
                                        <p class="text-sm text-gray-600 mb-2">Usa el namespace default <code>c</code>. Salesforce lo traduce al instalar.</p>
                                        <code class="bg-white px-2 py-1 rounded text-green-700 font-mono text-xs border border-green-200">&lt;c:miComponente /&gt;</code>
                                    </div>
                                    <div class="bg-blue-50 p-3 rounded border border-blue-100">
                                        <p class="text-xs font-bold text-blue-800 uppercase mb-1">Otro Paquete (Externo)</p>
                                        <p class="text-sm text-gray-600 mb-2">Usa el namespace expl√≠cito.</p>
                                        <code class="bg-white px-2 py-1 rounded text-blue-700 font-mono text-xs border border-blue-200">&lt;otroNs:suComponente /&gt;</code>
                                    </div>
                                </div>
                            </div>

                            <!-- LWC HTML -->
                            <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-5">
                                <h4 class="font-bold text-[#072146] mb-3 flex items-center">
                                    <i class="fa-solid fa-code mr-2 text-orange-500"></i> LWC Markup (.html)
                                </h4>
                                <div class="space-y-4">
                                    <div class="bg-green-50 p-3 rounded border border-green-100">
                                        <p class="text-xs font-bold text-green-800 uppercase mb-1">Tu Paquete (Interno)</p>
                                        <p class="text-sm text-gray-600 mb-2">Usa kebab-case con alias <code>c</code>.</p>
                                        <code class="bg-white px-2 py-1 rounded text-green-700 font-mono text-xs border border-green-200">&lt;c-mi-componente&gt;&lt;/c-mi-componente&gt;</code>
                                    </div>
                                    <div class="bg-blue-50 p-3 rounded border border-blue-100">
                                        <p class="text-xs font-bold text-blue-800 uppercase mb-1">Otro Paquete (Externo)</p>
                                        <p class="text-sm text-gray-600 mb-2">Namespace expl√≠cito separado por guion.</p>
                                        <code class="bg-white px-2 py-1 rounded text-blue-700 font-mono text-xs border border-blue-200">&lt;otro-ns-su-componente&gt;</code>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Columna 2: Creaci√≥n Din√°mica (JS) -->
                        <div class="space-y-6">
                            <!-- Aura Dynamic -->
                            <div class="bg-gray-50 rounded-lg border border-gray-200 shadow-sm p-5">
                                <h4 class="font-bold text-gray-700 mb-3 flex items-center">
                                    <i class="fa-brands fa-js mr-2 text-yellow-500"></i> Aura Din√°mico (JS)
                                </h4>
                                <p class="text-xs text-gray-500 mb-3"><code>$A.createComponent</code> trabaja con Strings. ¬°Cuidado!</p>
                                <div class="space-y-3">
                                    <div class="relative">
                                        <span class="absolute top-0 right-0 text-[10px] bg-green-100 text-green-800 px-1 rounded">TUYO</span>
                                        <pre class="bg-gray-800 text-green-300 p-2 rounded text-xs overflow-x-auto"><code>$A.createComponent(
    "c:miComponente", // Usa 'c', NUNCA el namespace real
    {...}, callback
);</code></pre>
                                    </div>
                                    <div class="relative">
                                        <span class="absolute top-0 right-0 text-[10px] bg-blue-100 text-blue-800 px-1 rounded">EXTERNO</span>
                                        <pre class="bg-gray-800 text-blue-300 p-2 rounded text-xs overflow-x-auto"><code>"otroNs:suComponente"</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- LWC Dynamic -->
                            <div class="bg-gray-50 rounded-lg border border-gray-200 shadow-sm p-5">
                                <h4 class="font-bold text-gray-700 mb-3 flex items-center">
                                    <i class="fa-brands fa-js mr-2 text-yellow-500"></i> LWC Din√°mico (Import)
                                </h4>
                                <p class="text-xs text-gray-500 mb-3">Usar <code>import()</code> din√°mico + <code>lwc:is</code>.</p>
                                <div class="space-y-3">
                                    <div class="relative">
                                        <span class="absolute top-0 right-0 text-[10px] bg-green-100 text-green-800 px-1 rounded">TUYO</span>
                                        <pre class="bg-gray-800 text-green-300 p-2 rounded text-xs overflow-x-auto"><code>// String m√°gico 'c/...'
import('c/miComponente')
    .then(({ default: ctor }) => ...);</code></pre>
                                    </div>
                                    <div class="relative">
                                        <span class="absolute top-0 right-0 text-[10px] bg-blue-100 text-blue-800 px-1 rounded">EXTERNO</span>
                                        <pre class="bg-gray-800 text-blue-300 p-2 rounded text-xs overflow-x-auto"><code>// Namespace real en path
import('otroNs/suComponente')
    .then(...);</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tabla Resumen Visual -->
                    <div class="overflow-hidden border border-gray-200 rounded-lg shadow-sm">
                        <table class="min-w-full bg-white text-sm text-center">
                            <thead class="bg-[#072146] text-white">
                                <tr>
                                    <th class="py-2 px-4 font-semibold">Acci√≥n</th>
                                    <th class="py-2 px-4 font-semibold bg-green-600">¬øMi Paquete? (Usar Alias)</th>
                                    <th class="py-2 px-4 font-semibold bg-blue-600">¬øPaquete Externo? (Real)</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100">
                                <tr>
                                    <td class="py-3 px-4 font-medium text-left text-gray-700">Aura Markup (.cmp)</td>
                                    <td class="py-3 px-4 font-mono text-green-700 bg-green-50">&lt;c:miComp /&gt;</td>
                                    <td class="py-3 px-4 font-mono text-blue-700 bg-blue-50">&lt;ns:suComp /&gt;</td>
                                </tr>
                                <tr>
                                    <td class="py-3 px-4 font-medium text-left text-gray-700">LWC Markup (.html)</td>
                                    <td class="py-3 px-4 font-mono text-green-700 bg-green-50">&lt;c-mi-comp&gt;</td>
                                    <td class="py-3 px-4 font-mono text-blue-700 bg-blue-50">&lt;ns-su-comp&gt;</td>
                                </tr>
                                <tr>
                                    <td class="py-3 px-4 font-medium text-left text-gray-700">Aura Dynamic (JS String)</td>
                                    <td class="py-3 px-4 font-mono text-green-700 bg-green-50">"c:miComp"</td>
                                    <td class="py-3 px-4 font-mono text-blue-700 bg-blue-50">"ns:suComp"</td>
                                </tr>
                                <tr>
                                    <td class="py-3 px-4 font-medium text-left text-gray-700">LWC Dynamic (Import Path)</td>
                                    <td class="py-3 px-4 font-mono text-green-700 bg-green-50">'c/miComp'</td>
                                    <td class="py-3 px-4 font-mono text-blue-700 bg-blue-50">'ns/suComp'</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 2.3 NUEVO: Estrategia de Datos de Prueba -->
                <div id="mod2-datos" class="mb-12 border-t border-gray-100 pt-8">
                    <h3 class="text-xl font-bold mb-4 text-gray-800">2.3. Estrategia de Datos de Prueba (Demo Data)</h3>
                    <p class="text-gray-600 mb-6">Para garantizar la calidad de un paquete gestionado, no basta con tener el c√≥digo; necesitamos datos que validen su funcionamiento. El objetivo es proporcionar un <strong>"Estado Conocido" (Known State)</strong>.</p>

                    <!-- 1. El Objetivo -->
                    <div class="bg-blue-50 rounded-lg p-5 border border-blue-100 mb-8">
                        <h4 class="font-bold text-[#1464A5] mb-2"><i class="fa-solid fa-bullseye mr-2"></i>El Objetivo: "Estado Conocido"</h4>
                        <p class="text-sm text-gray-700 mb-3">Un conjunto predefinido de registros que permite probar el flujo End-to-End (E2E) inmediatamente despu√©s de instalar.</p>
                        <div class="grid md:grid-cols-3 gap-4 mt-4">
                            <div class="bg-white p-3 rounded shadow-sm text-center">
                                <i class="fa-solid fa-rotate text-[#2DCCCD] text-xl mb-2"></i>
                                <div class="text-xs font-bold text-gray-800">Reproducibilidad</div>
                                <div class="text-xs text-gray-500">Mismos datos, mismo error, misma soluci√≥n.</div>
                            </div>
                            <div class="bg-white p-3 rounded shadow-sm text-center">
                                <i class="fa-solid fa-bolt text-yellow-500 text-xl mb-2"></i>
                                <div class="text-xs font-bold text-gray-800">Eficiencia</div>
                                <div class="text-xs text-gray-500">Cero tiempo perdido creando registros manuales.</div>
                            </div>
                            <div class="bg-white p-3 rounded shadow-sm text-center">
                                <i class="fa-solid fa-check-double text-green-500 text-xl mb-2"></i>
                                <div class="text-xs font-bold text-gray-800">Validaci√≥n</div>
                                <div class="text-xs text-gray-500">Cobertura de casos complejos asegurada.</div>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Regla Cr√≠tica: Namespace -->
                    <div class="mb-8">
                        <h4 class="font-bold text-gray-800 mb-4 flex items-center">
                            <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded mr-2">CR√çTICO</span>
                            Gesti√≥n del Namespace en Archivos de Datos
                        </h4>
                        <p class="text-gray-600 text-sm mb-4">Los archivos (CSV/JSON) en el repositorio deben ser <strong>Agn√≥sticos</strong> (sin namespace).</p>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <!-- Incorrecto -->
                            <div class="border border-red-200 rounded-lg overflow-hidden">
                                <div class="bg-red-50 px-4 py-2 border-b border-red-200 flex justify-between items-center">
                                    <span class="text-red-800 font-bold text-xs"><i class="fa-solid fa-times-circle mr-1"></i> INCORRECTO (Hardcoded)</span>
                                </div>
                                <div class="p-4 bg-white">
                                    <code class="text-xs text-red-600 break-all">"Name","mi_ns__Campo__c","mi_ns__Otro__c"</code>
                                    <p class="text-xs text-gray-500 mt-2"><strong>Consecuencia:</strong> Fallar√° en Scratch Orgs porque el campo <code>mi_ns__</code> no existe localmente.</p>
                                </div>
                            </div>
                            <!-- Correcto -->
                            <div class="border border-green-200 rounded-lg overflow-hidden">
                                <div class="bg-green-50 px-4 py-2 border-b border-green-200 flex justify-between items-center">
                                    <span class="text-green-800 font-bold text-xs"><i class="fa-solid fa-check-circle mr-1"></i> CORRECTO (Limpio)</span>
                                </div>
                                <div class="p-4 bg-white">
                                    <code class="text-xs text-green-600 break-all">"Name","Campo__c","Otro__c"</code>
                                    <p class="text-xs text-gray-500 mt-2"><strong>Ventaja:</strong> Salesforce mapea autom√°ticamente las columnas. Funciona en desarrollo y CI/CD.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 3. Estrategias de Carga -->
                    <div class="mb-8">
                        <h4 class="font-bold text-gray-800 mb-4">Estrategias de Carga seg√∫n Complejidad</h4>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white p-5 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden">
                                <div class="absolute top-0 right-0 bg-gray-100 text-gray-600 text-[10px] px-2 py-1 font-bold rounded-bl">NIVEL A</div>
                                <h5 class="font-bold text-[#072146] mb-2">Datos Simples (Bulk)</h5>
                                <p class="text-xs text-gray-500 mb-3">Tablas maestras, listas de valores, registros independientes.</p>
                                <ul class="text-xs space-y-1 text-gray-600 mb-3">
                                    <li><i class="fa-solid fa-file-csv mr-1 text-green-600"></i> Formato: <strong>CSV</strong></li>
                                    <li><i class="fa-solid fa-terminal mr-1 text-gray-800"></i> <code>sf data import bulk</code></li>
                                </ul>
                            </div>
                            <div class="bg-white p-5 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden">
                                <div class="absolute top-0 right-0 bg-blue-100 text-blue-800 text-[10px] px-2 py-1 font-bold rounded-bl">NIVEL B</div>
                                <h5 class="font-bold text-[#1464A5] mb-2">Datos Relacionales (Tree)</h5>
                                <p class="text-xs text-gray-500 mb-3">Estructuras Padre-Hijo (ej: Plantilla -> Preguntas -> Respuestas).</p>
                                <ul class="text-xs space-y-1 text-gray-600 mb-3">
                                    <li><i class="fa-solid fa-code mr-1 text-yellow-600"></i> Formato: <strong>JSON (Plan)</strong></li>
                                    <li><i class="fa-solid fa-terminal mr-1 text-gray-800"></i> <code>sf data import tree</code></li>
                                </ul>
                                <p class="text-[10px] text-blue-600 bg-blue-50 p-1 rounded"><strong>Ventaja:</strong> Mantiene la integridad de IDs autom√°ticamente en una sola transacci√≥n.</p>
                            </div>
                        </div>
                    </div>

                    <!-- 4. Automatizaci√≥n y Tabla -->
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-bold text-gray-800 mb-3">Automatizaci√≥n (package.json)</h4>
                            <p class="text-sm text-gray-600 mb-2">Haz que la carga sea un comando trivial.</p>
                            <div class="bg-[#072146] rounded-lg overflow-hidden shadow-md code-block">
                                <div class="bg-[#04152d] px-4 py-2 flex justify-between items-center text-xs text-gray-400">
                                    <span>package.json</span>
                                    <button class="copy-btn bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs" onclick="copyToClipboard(this)">Copiar</button>
                                </div>
                                <pre class="p-4 overflow-x-auto text-xs text-green-300"><code>"scripts": {
  "db:load": "sf data import tree --plan demo/data/plan.json",
  "reset:org": "sf org create scratch ... && npm run db:load"
}</code></pre>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-800 mb-3">Resumen de Mejores Pr√°cticas</h4>
                            <div class="overflow-hidden border border-gray-200 rounded-lg">
                                <table class="min-w-full bg-white text-xs">
                                    <thead class="bg-gray-50 text-gray-700">
                                        <tr>
                                            <th class="py-2 px-3 text-left">Aspecto</th>
                                            <th class="py-2 px-3 text-left">Pr√°ctica</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-gray-100 text-gray-600">
                                        <tr>
                                            <td class="py-2 px-3 font-medium">Limpieza</td>
                                            <td class="py-2 px-3">Sin namespaces en headers.</td>
                                        </tr>
                                        <tr>
                                            <td class="py-2 px-3 font-medium">Integridad</td>
                                            <td class="py-2 px-3">Usar <code>tree</code> para relaciones.</td>
                                        </tr>
                                        <tr>
                                            <td class="py-2 px-3 font-medium">Mantenimiento</td>
                                            <td class="py-2 px-3">Actualizar al cambiar modelo.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2.4 (Antiguo 2.3) RENUMERADO: Ejemplo Pr√°ctico LWC -->
                <div class="mb-8 border-t border-gray-100 pt-8">
                    <h3 class="text-xl font-bold mb-3 text-gray-800">2.4. Ejemplo Pr√°ctico de Comunicaci√≥n LWC</h3>
                    <p class="text-gray-600 mb-2">Aqu√≠ vemos un ejemplo de c√≥mo se ver√≠a un componente padre conteniendo a un hijo en el c√≥digo fuente.</p>
                    
                     <div class="bg-[#072146] rounded-lg overflow-hidden shadow-md code-block">
                        <div class="bg-[#04152d] px-4 py-2 flex justify-between items-center text-xs text-gray-400">
                            <span>padre.html</span>
                            <button class="copy-btn bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs" onclick="copyToClipboard(this)">Copiar</button>
                        </div>
                        <pre class="p-4 overflow-x-auto text-sm text-pink-300"><code>&lt;!-- padre.html en TU paquete --&gt;
&lt;template&gt;
    &lt;lightning-card title="Componente Padre"&gt;
        &lt;div class="slds-p-around_medium"&gt;
            &lt;!-- Usamos el alias 'c' (Correcto para desarrollo) --&gt;
            &lt;c-hijo-lwc propiedad={valor}&gt;&lt;/c-hijo-lwc&gt;
            
            &lt;!-- Si fuera de un paquete externo instalado llamado 'global_comp' --&gt;
            &lt;global_comp-hijo-lwc propiedad={valor}&gt;&lt;/global_comp-hijo-lwc&gt;
        &lt;/div&gt;
    &lt;/lightning-card&gt;
&lt;/template&gt;</code></pre>
                    </div>
                </div>

                <!-- 2.5 (Antiguo 2.4) RENUMERADO: Apex PMD -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold mb-3 text-gray-800">2.5. Apex PMD</h3>
                    <ul class="list-disc list-inside space-y-2 text-gray-600 bg-white p-4 rounded-lg border border-gray-200">
                        <li><span class="font-semibold text-red-600">SOQL/DML in loops:</span> Error fatal de performance.</li>
                        <li><span class="font-semibold text-red-600">Hardcoded IDs:</span> Prohibido.</li>
                        <li><span class="font-semibold text-orange-500">Complejidad:</span> Mant√©n el c√≥digo simple.</li>
                    </ul>
                </div>
            </section>

            <!-- Module 3 -->
            <section id="mod3" class="mb-16 scroll-mt-20">
                <div class="border-b border-gray-200 pb-4 mb-6">
                    <h2 class="text-3xl font-bold text-[#072146] flex items-center">
                        <span class="bg-blue-50 text-[#1464A5] rounded-lg p-2 mr-3 text-xl"><i class="fa-solid fa-shield-halved"></i></span>
                        M√≥dulo 3: Arquitectura y Buenas Pr√°cticas
                    </h2>
                </div>

                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                        <h3 class="text-lg font-bold mb-3 text-gray-800">Modificadores de Acceso</h3>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded mt-1 mr-2">Private</span>
                                <span class="text-sm text-gray-600">Solo visible dentro de la clase.</span>
                            </li>
                            <li class="flex items-start">
                                <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded mt-1 mr-2">Public</span>
                                <span class="text-sm text-gray-600">Visible en todo tu namespace, invisible para el cliente. <strong>(Recomendado por defecto)</strong></span>
                            </li>
                            <li class="flex items-start">
                                <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded mt-1 mr-2">Global</span>
                                <span class="text-sm text-gray-600">Visible para todos. ‚ö†Ô∏è <strong>Irreversible</strong> tras subir release.</span>
                            </li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                        <h3 class="text-lg font-bold mb-3 text-gray-800">Flexibilidad</h3>
                        <p class="text-sm text-gray-600 mb-4">No hardcodear nada. Tu paquete vivir√° en entornos desconocidos.</p>
                        <div class="space-y-2">
                            <div class="flex items-center text-sm text-red-600">
                                <i class="fa-solid fa-xmark w-6"></i>
                                <code>SELECT Id FROM User WHERE Alias = 'Admin'</code>
                            </div>
                            <div class="flex items-center text-sm text-green-600">
                                <i class="fa-solid fa-check w-6"></i>
                                <span>Custom Metadata Types</span>
                            </div>
                            <div class="flex items-center text-sm text-green-600">
                                <i class="fa-solid fa-check w-6"></i>
                                <span>Custom Settings</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

             <!-- Module 4 -->
             <section id="mod4" class="mb-16 scroll-mt-20">
                <div class="border-b border-gray-200 pb-4 mb-6">
                    <h2 class="text-3xl font-bold text-[#072146] flex items-center">
                        <span class="bg-blue-50 text-[#1464A5] rounded-lg p-2 mr-3 text-xl"><i class="fa-solid fa-flask"></i></span>
                        M√≥dulo 4: Estrategia de Testing
                    </h2>
                </div>
                
                <div class="relative border-l-4 border-blue-200 ml-4 pl-8 space-y-8">
                    <div class="relative">
                        <span class="absolute -left-12 bg-[#1464A5] text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">1</span>
                        <h3 class="font-bold text-lg">Unit Testing</h3>
                        <p class="text-gray-600">Tests de Apex con asserts reales. Cubre casos positivos, negativos y Bulk.</p>
                    </div>
                    <div class="relative">
                        <span class="absolute -left-12 bg-[#1464A5] text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">2</span>
                        <h3 class="font-bold text-lg">Scratch Org con Namespace</h3>
                        <p class="text-gray-600">Para el desarrollo diario.</p>
                    </div>
                    <div class="relative">
                        <span class="absolute -left-12 bg-[#2DCCCD] text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">3</span>
                        <h3 class="font-bold text-lg text-[#072146]">Scratch Org SIN Namespace (Beta)</h3>
                        <p class="text-gray-600">Instala el paquete Beta aqu√≠. Detecta errores de "falta permiso" o fallos de namespace en JS.</p>
                    </div>
                </div>
            </section>

            <!-- Module 5: Errors -->
            <section id="mod5" class="mb-16 scroll-mt-20">
                <div class="border-b border-gray-200 pb-4 mb-6">
                    <h2 class="text-3xl font-bold text-[#072146] flex items-center">
                        <span class="bg-blue-50 text-[#1464A5] rounded-lg p-2 mr-3 text-xl"><i class="fa-solid fa-triangle-exclamation"></i></span>
                        M√≥dulo 5: Troubleshooting
                    </h2>
                </div>

                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-200 rounded-lg shadow-sm">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Error</th>
                                <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Causa</th>
                                <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Soluci√≥n</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            <tr>
                                <td class="py-3 px-4 text-sm font-medium text-gray-900">Attempt to de-reference a null object</td>
                                <td class="py-3 px-4 text-sm text-gray-600">Faltan Custom Settings</td>
                                <td class="py-3 px-4 text-sm text-gray-600">Post Install Script para inicializar config.</td>
                            </tr>
                            <tr>
                                <td class="py-3 px-4 text-sm font-medium text-gray-900">LWC "Component not found"</td>
                                <td class="py-3 px-4 text-sm text-gray-600">Referencia sin namespace</td>
                                <td class="py-3 px-4 text-sm text-gray-600">Usar <code>namespace-componente</code>.</td>
                            </tr>
                            <tr>
                                <td class="py-3 px-4 text-sm font-medium text-gray-900">Error CPU Time Limit</td>
                                <td class="py-3 px-4 text-sm text-gray-600">C√≥digo ineficiente</td>
                                <td class="py-3 px-4 text-sm text-gray-600">Pasar a As√≠ncrono (Queueable/Batch).</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Module 6: Documentation -->
            <section id="mod6" class="mb-16 scroll-mt-20">
                <div class="border-b border-gray-200 pb-4 mb-6">
                    <h2 class="text-3xl font-bold text-[#072146] flex items-center">
                        <span class="bg-blue-50 text-[#1464A5] rounded-lg p-2 mr-3 text-xl"><i class="fa-solid fa-file-lines"></i></span>
                        M√≥dulo 6: Documentaci√≥n
                    </h2>
                </div>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <h3 class="font-bold text-[#072146] mb-2">README & Gu√≠a Admin</h3>
                        <ul class="list-disc list-inside text-sm text-[#1464A5] space-y-1">
                            <li>Pre-requisitos (My Domain, etc.)</li>
                            <li>Enlaces de instalaci√≥n (Sandbox/Prod)</li>
                            <li>Configuraci√≥n post-instalaci√≥n (PermSets)</li>
                            <li>FAQ</li>
                        </ul>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h3 class="font-bold text-gray-800 mb-2">Changelog.md</h3>
                        <p class="text-sm text-gray-600 mb-2">Ejemplo v1.2.0 (Beta):</p>
                        <ul class="text-sm text-gray-600 font-mono">
                            <li>[Feature] A√±adido LWC impuestos</li>
                            <li>[Fix] Error trigger cuentas</li>
                            <li>[Security] PublicHelper -> with sharing</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Paquetizables -->
            <section id="paquetizables" class="mb-16 scroll-mt-20">
                <div class="border-b border-gray-200 pb-4 mb-6">
                    <h2 class="text-3xl font-bold text-[#072146] flex items-center">
                        <span class="bg-blue-50 text-[#1464A5] rounded-lg p-2 mr-3 text-xl"><i class="fa-solid fa-box-open"></i></span>
                        ¬øQu√© se puede empaquetar?
                    </h2>
                </div>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="border border-green-200 bg-green-50 rounded-xl p-6">
                        <h3 class="text-green-800 font-bold mb-4 flex items-center"><i class="fa-solid fa-check-circle mr-2"></i> S√ç se puede</h3>
                        <ul class="space-y-2 text-green-900 text-sm">
                            <li>Apex, Triggers, LWC, Aura</li>
                            <li>Custom Objects, Fields</li>
                            <li>Permission Sets</li>
                            <li>Custom Metadata Types</li>
                            <li>Flows</li>
                        </ul>
                    </div>
                    <div class="border border-red-200 bg-red-50 rounded-xl p-6">
                        <h3 class="text-red-800 font-bold mb-4 flex items-center"><i class="fa-solid fa-times-circle mr-2"></i> NO se puede (o cuidado)</h3>
                        <ul class="space-y-2 text-red-900 text-sm">
                            <li>Standard Object Layouts</li>
                            <li>Assignment Rules</li>
                            <li>Datos (Registros reales)</li>
                            <li>Connected Apps</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Setup de esta Gu√≠a (New Section) -->
            <section id="setup-web" class="mb-16 scroll-mt-20">
                <div class="border-b border-gray-200 pb-4 mb-6">
                    <h2 class="text-3xl font-bold text-[#072146] flex items-center">
                        <span class="bg-blue-50 text-[#1464A5] rounded-lg p-2 mr-3 text-xl"><i class="fa-solid fa-laptop-code"></i></span>
                        Setup Local de esta Documentaci√≥n
                    </h2>
                </div>
                
                <p class="text-gray-600 mb-6">Instrucciones para que el equipo pueda editar y mantener esta gu√≠a actualizada utilizando VS Code.</p>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="p-6 grid md:grid-cols-3 gap-6">
                        <!-- Paso 1 -->
                        <div class="relative">
                            <div class="flex items-center mb-4">
                                <span class="bg-[#1464A5] text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3">1</span>
                                <h3 class="font-bold text-gray-800">Proyecto Local</h3>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Crea una carpeta en tu escritorio:</p>
                            <code class="block bg-gray-100 p-2 rounded text-xs font-mono text-gray-700">/Escritorio/Formacion_Componentes</code>
                        </div>

                        <!-- Paso 2 -->
                        <div class="relative">
                            <div class="flex items-center mb-4">
                                <span class="bg-[#1464A5] text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3">2</span>
                                <h3 class="font-bold text-gray-800">Visual Studio Code</h3>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Abre la carpeta en VS Code y crea el archivo principal:</p>
                            <code class="block bg-gray-100 p-2 rounded text-xs font-mono text-gray-700">index.html</code>
                        </div>

                        <!-- Paso 3 -->
                        <div class="relative">
                            <div class="flex items-center mb-4">
                                <span class="bg-[#2DCCCD] text-[#072146] w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3">3</span>
                                <h3 class="font-bold text-gray-800">Live Preview</h3>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Instala la extensi√≥n <strong>Live Server</strong> para ver los cambios en tiempo real.</p>
                            <div class="mt-2 text-xs text-blue-600 bg-blue-50 p-2 rounded border border-blue-100">
                                <i class="fa-solid fa-lightbulb mr-1"></i> Tip: Click derecho en el HTML -> "Open with Live Server"
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quote -->
            <section class="mb-8">
                <blockquote class="border-l-4 border-[#1464A5] pl-6 py-4 italic text-gray-600 bg-gray-50 rounded-r-lg">
                    "Un buen consultor arregla un problema. Un experto en paquetes evita que el problema ocurra en 10.000 organizaciones a la vez. Piensa siempre en defensivo."
                    <footer class="mt-2 font-bold text-[#072146] not-italic">‚Äî Equipo Componentes Globales</footer>
                </blockquote>
            </section>

        </main>
    </div>

    <script>
        // Toggle Mobile Menu
        const menuBtn = document.getElementById('menuBtn');
        const sidebar = document.getElementById('sidebar');

        menuBtn.addEventListener('click', () => {
            sidebar.classList.toggle('hidden');
            sidebar.classList.toggle('-translate-x-full');
            
            // For mobile overlay behavior if needed, but simple toggle works for now
            if (!sidebar.classList.contains('hidden')) {
               sidebar.classList.add('fixed', 'inset-y-0', 'left-0', 'z-40', 'w-64');
            }
        });

        // Copy to clipboard functionality
        function copyToClipboard(button) {
            const pre = button.parentElement.nextElementSibling;
            const code = pre.innerText;
            
            const textarea = document.createElement('textarea');
            textarea.value = code;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            
            const originalText = button.innerText;
            button.innerText = '¬°Copiado!';
            button.classList.add('bg-green-600');
            
            setTimeout(() => {
                button.innerText = originalText;
                button.classList.remove('bg-green-600');
            }, 2000);
        }
    </script>
</body>
</html>